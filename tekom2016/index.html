<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Conversion of Terms to Schema.org</title>
        <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script type="text/javascript">
            function tbx2schemaDotOrg() {
                var pipeline = '[ {   "method": "POST",   "endpoint": "http://api-dev.freme-project.eu/current/e-terminology/tilde",    "parameters" : {     	"source-lang" : "en",     	"target-lang" : "de",     	"filter" : "terms-basic-infos"     },     "headers" : {       "Accept": "text/xml"     },     "body" : "@@@"   },  {       "method": "POST",       "endpoint": "http://api-dev.freme-project.eu/current/toolbox/xslt-converter/documents/e-terminology-to-schema-dot-org",       "headers": {           "Content-Type": "text/xml",           "Accept": "text/xml"       }   }   ]';
                var selectedInputType = $("#inputtype").find(":selected").val();
                var sourceContent = $('#content').val();
                var requestBody = null;
                var ctype = "text/xml";
                requestBody = sourceContent;
                /*if (selectedInputType === "forminput") {requestBody = sourceContent;};*/
                var fremeApiURL = "http://api-dev.freme-project.eu/current/";
                var requestURL = fremeApiURL + "toolbox/xslt-converter/documents/tbx-to-schema-dot-org";
                if (selectedInputType === "terms")
                {
                    requestURL = "http://api-dev.freme-project.eu/current/pipelining/chain";
                    requestBody = pipeline.replace("@@@", sourceContent);
                    ctype = "application/json";
                    //$("#output2").empty().append(requestBody);
                }
                ;
                $.ajax({
                    type: 'POST',
                    url: requestURL,
                    data: requestBody,
                    async: true,
                    headers: {
                        'Content-Type': ctype,
                        'Accept': 'text/xml'
                    }
                })
                        .done(function (result) {
                            var xmlString = (new XMLSerializer()).serializeToString(result);
                            var output = xmlString.replace(/<\?xml .*\?>/, '');
                            var output2 = output.replace(/</g, "&lt;");
                            $("#output2").empty().append(output2);
                        })
                        .fail(function (xhr, statusText, err) {
                            console.log("error");
                            error(xhr + statusText + err);
                            console.log(xhr + statusText + sourceContent);
                            //$("#output2").empty().append(xhr + statusText + err);
                        });
            }
            ;
        </script>
        <style>
            textarea.input { color: green;
                             float: left;
                             width: 45%;
                             margin-left: 10px;
                             margin-top: 10px;
                             padding: 5px;
                             border: 1px solid black;
            }
            textarea.output { color: blue;
                              float: right;
                              width: 45%;
                              margin-right: 10px;
                              margin-top: 10px;
                              padding: 5px;
                              border: 1px solid black;
            }
            span.loadsample {
                color: blue;
            }
            button.run {
                box-shadow: 4px 4px 2px #888888;
            }
            pre, code {
                background-color: #e1e1ea;
            }
        </style>
    </head>
    <body>
        <h1>Conversion of Terms to Schema.org</h1>
        <h2 id="background">Background</h2>
        <p>Conversion of terms to Schema.org. Detailed description will follow. For more TBX input files, see the related repository of <a href="https://github.com/cimiano/tbx2rdf/tree/master/samples/TBX-resources">TBX2RDF</a>.</p>
        <h2 id="try-it-out">Try it out</h2>
        <p>In the left form below enter either a
                            TBX document (<span class="loadsample" onclick="var tbxsample = $('#tbxsample').text();
                    $('#content').empty().val(tbxsample.replace(/</g, '&lt;'))">load a sample</span>)
                                or some text (<span class="loadsample" onclick="
                                                                                   $('#content').empty().val('Seeking knowledge and wisdom.')">load a sample</span>). 
            If you want to convert TBX files, choose the input type <q>TBX file</q>. 
            If you want to detect terms in text, choose the input type <q>text with terms</q>. Then click on the bottom <q>convert</q>.</p>
        <p>You can validate the output e.g. with the <a href="https://search.google.com/structured-data/testing-tool">Structured data testing tool</a> or the <a href="http://linter.structured-data.org/">Structured Data Linter</a>.</p>
        <button onclick="tbx2schemaDotOrg();" class="run">convert</button>
        <button onclick="$('#out').empty().append('Output');
                $('#output2').empty();
                $('#output2').addClass('output');">Refresh output</button>
        <p>Set the type of input: <select name="inputtype" id="inputtype"><option value="forminput" selected>TBX file</option><option value="terms">Text with terms (paste in form)</option>
            </select>
        </p>
        <form name="input">
            <textarea rows="15" cols="50" name="content"  id="content" class="input"></textarea>
        </form>
        <div id="out" style="display: none;">Output</div>
        <form name="output">
            <textarea rows="15" cols="50" name="output2"  id="output2" class="output"></textarea>
        </form>
        <div id="tbxsample" style="display: none;">&lt;martif type="TBX" xml:lang="en">
            &lt;martifHeader>
            &lt;fileDesc>
            &lt;titleStmt>
            &lt;title>XXXterm&lt;/title>
            &lt;/titleStmt>
            &lt;publicationStmt>
            &lt;p>Distributor=XXX Language Services contact=YYY-TERM Company=XXX AG
            URL=http://www.XXX.com/company/legal/impressum.epx Region=world
            PubStatus=unknown DateValue=March 2010
            &lt;/p>
            &lt;/publicationStmt>
            &lt;sourceDesc>
            &lt;p>CreaTool=XXXterm CreaToolVersion= 740 OrigFormat=R3-internal
            AdminLang=en CreaDate= 20150211073900 CreaId= L
            &lt;/p>
            &lt;/sourceDesc>
            &lt;/fileDesc>
            &lt;encodingDesc>
            &lt;p type="DCSName">XXXTBXXCSV02.xcs&lt;/p>
            &lt;/encodingDesc>
            &lt;/martifHeader>
            &lt;text>
            &lt;body>
            &lt;termEntry id="tid_db6_014D420D507ED411B1360060B03C6BFB">
            &lt;descripGrp>
            &lt;descrip type="definition" />
            &lt;transacGrp>
            &lt;transac type="transactionType">origination&lt;/transac>
            &lt;transacNote type="responsibility" />
            &lt;date />
            &lt;/transacGrp>
            &lt;transacGrp>
            &lt;transac type="transactionType">modification&lt;/transac>
            &lt;transacNote type="responsibility" />
            &lt;date />
            &lt;/transacGrp>
            &lt;/descripGrp>
            &lt;transacGrp>
            &lt;transac type="transactionType">origination&lt;/transac>
            &lt;transacNote type="responsibility">S5&lt;/transacNote>
            &lt;date>20080307024400&lt;/date>
            &lt;/transacGrp>
            &lt;transacGrp>
            &lt;transac type="transactionType">modification&lt;/transac>
            &lt;transacNote type="responsibility">S5&lt;/transacNote>
            &lt;date>20080407020448&lt;/date>
            &lt;/transacGrp>
            &lt;admin type="conceptOrigin">de&lt;/admin>
            &lt;descrip type="characteristic">standardEntry&lt;/descrip>
            &lt;admin type="XXXAddProductSubset">CA; &lt;/admin>
            &lt;descrip type="XXXAddProductSubsetSubjectField">Cross-Application Components; &lt;/descrip>
            &lt;descrip type="XXXNonTranslatable" />
            &lt;descrip type="XXXLegalRestriction" />
            &lt;descrip type="XXXProprietaryRestriction" />
            &lt;descrip type="XXXtermCategory" />
            &lt;descrip type="entryNote" />
            &lt;admin type="productSubset">BC&lt;/admin>
            &lt;descrip type="subjectField">Basis Components&lt;/descrip>
            &lt;langSet xml:lang="DE">
            &lt;ntig>
            &lt;termGrp>
            &lt;term id="oid_db6_034D420D507ED411B1360060B03C6BFB">einrichten&lt;/term>
            &lt;termNote type="partOfSpeech">Verb&lt;/termNote>
            &lt;termNote type="grammaticalGender" />
            &lt;termNote type="geographicalUsage" />
            &lt;termNote type="termType">entryTerm&lt;/termNote>
            &lt;termNote type="processStatus">finalized&lt;/termNote>
            &lt;/termGrp>
            &lt;admin type="annotatedNote" />
            &lt;descrip type="context" />
            &lt;admin type="projectSubset">30A&lt;/admin>
            &lt;admin type="XXXLastBasisRelease" />
            &lt;admin type="XXXEnhancement" />
            &lt;admin type="XXXFirstEnhancementRelease" />
            &lt;admin type="XXXLastEnhancementRelease" />
            &lt;xref target="link2source" type="externalCrossReference">KENO
            IWB_EXTHLP57/38DE0C4EB711D182BF0000E829FBFE KENO
            IWB_EXTHLP5738DE0C4EB711D182BF0000E829FBFE
            &lt;/xref>
            &lt;transacGrp>
            &lt;transac type="transactionType">origination&lt;/transac>
            &lt;transacNote type="responsibility">CARLSSONJ&lt;/transacNote>
            &lt;date>20000830104445&lt;/date>
            &lt;/transacGrp>
            &lt;transacGrp>
            &lt;transac type="transactionType">modification&lt;/transac>
            &lt;transacNote type="responsibility">BUCHNER&lt;/transacNote>
            &lt;date>20110215092235&lt;/date>
            &lt;/transacGrp>
            &lt;/ntig>
            &lt;/langSet>
            &lt;langSet xml:lang="FR">
            &lt;ntig>
            &lt;termGrp>
            &lt;term id="oid_db6_0E40995937DB4C49A6B6AC335E2A4085">configurer&lt;/term>
            &lt;termNote type="partOfSpeech">Verb&lt;/termNote>
            &lt;termNote type="grammaticalGender" />
            &lt;termNote type="geographicalUsage" />
            &lt;termNote type="termType">entryTerm&lt;/termNote>
            &lt;termNote type="processStatus">finalized&lt;/termNote>
            &lt;/termGrp>
            &lt;admin type="annotatedNote" />
            &lt;descrip type="context" />
            &lt;admin type="projectSubset">30A&lt;/admin>
            &lt;admin type="XXXLastBasisRelease" />
            &lt;admin type="XXXEnhancement" />
            &lt;admin type="XXXFirstEnhancementRelease" />
            &lt;admin type="XXXLastEnhancementRelease" />
            &lt;xref target="link2source" type="externalCrossReference">KENO
            IWB_EXTHLP57/38DE0C4EB711D182BF0000E829FBFE KENO
            IWB_EXTHLP5738DE0C4EB711D182BF0000E829FBFE
            &lt;/xref>
            &lt;transacGrp>
            &lt;transac type="transactionType">origination&lt;/transac>
            &lt;transacNote type="responsibility">N&lt;/transacNote>
            &lt;date>20020405161417&lt;/date>
            &lt;/transacGrp>
            &lt;transacGrp>
            &lt;transac type="transactionType">modification&lt;/transac>
            &lt;transacNote type="responsibility">N&lt;/transacNote>
            &lt;date>20020405161417&lt;/date>
            &lt;/transacGrp>
            &lt;/ntig>
            &lt;/langSet>
            &lt;langSet xml:lang="EN">
            &lt;ntig>
            &lt;termGrp>
            &lt;term id="oid_db6_3CC7BB7B7D6BB04582E8B0479AB143B0">set up&lt;/term>
            &lt;termNote type="partOfSpeech">Verb&lt;/termNote>
            &lt;termNote type="grammaticalGender" />
            &lt;termNote type="geographicalUsage" />
            &lt;termNote type="termType">entryTerm&lt;/termNote>
            &lt;termNote type="processStatus">finalized&lt;/termNote>
            &lt;/termGrp>
            &lt;admin type="annotatedNote" />
            &lt;descrip type="context" />
            &lt;admin type="projectSubset">30A&lt;/admin>
            &lt;admin type="XXXLastBasisRelease" />
            &lt;admin type="XXXEnhancement" />
            &lt;admin type="XXXFirstEnhancementRelease" />
            &lt;admin type="XXXLastEnhancementRelease" />
            &lt;xref target="link2source" type="externalCrossReference">KENO
            IWB_EXTHLP57/38DE0C4EB711D182BF0000E829FBFE KENO
            IWB_EXTHLP5738DE0C4EB711D182BF0000E829FBFE
            &lt;/xref>
            &lt;transacGrp>
            &lt;transac type="transactionType">origination&lt;/transac>
            &lt;transacNote type="responsibility">CS&lt;/transacNote>
            &lt;date>20011212152515&lt;/date>
            &lt;/transacGrp>
            &lt;transacGrp>
            &lt;transac type="transactionType">modification&lt;/transac>
            &lt;transacNote type="responsibility">CS&lt;/transacNote>
            &lt;date>20011212152515&lt;/date>
            &lt;/transacGrp>
            &lt;/ntig>
            &lt;/langSet>
            &lt;/termEntry>
            &lt;/body>
            &lt;/text>
            &lt;/martif></div>
    </body>
</html>
